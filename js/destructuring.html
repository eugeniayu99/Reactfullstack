<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // destructuring(구조 분해 할당)
        // 배열이나 객체에서 필요한 값만 뽑아 변수로 꺼내는 문법
        // 배열의 분해 할당
        const colors = ["red","green","blue"];

        // 기존의 방식
        const first = colors[0];
        const second = colors[1];

        // 무조건 순서대로 꺼낸다
        // 일부분만 꺼내고 변수의 개수가 모자르면 무시한다.
        const [a,b] = colors;
        console.log(a);
        console.log(b);

        // 건너뛰기
        const [x,,z] = colors;
        console.log(x);
        console.log(z);

        // 기본 값의 설정
        const nums = [1];
        const [n1, n2=10,] =nums;
        console.log(n1,n2);

        // 나머지 요소 모으기
        const arr = [10,20,30,40,50];
        // ...other가 나머지 요소들을 배열로 모아준다.
        const [one, ...other] = arr;
        console.log(one);
        console.log(other);

        // 객체에서의 구조분해 할당
        // 배열에서는 순서가 중요했지만 객체에서는 "key"가 중요하다
        const user = {
            name : 'Alice',
            age : 25,
            country : 'KR'
        }
        // 객체에서는 {}로 받아야 한다.
        // 변수의 이름이 key와 일치해야 한다.
        const {name, age} = user;
        /*
        const name = user.name;
        const age = user.age;
        이거의 축약형
        */
        console.log(name);
        console.log(age);

        // 변수 이름 바꾸기
        const {name:userName, age:userAge} = user;
        console.log(userName);
        console.log(userAge);

        // 기본값 주기
        const person = {
            name2 : '홍길동',
        }

        const {name2, age2 = 0} = person;
        console.log(name2);
        console.log(age2);

        // 나머지 프로퍼티 모으기
        const{id, ...profile} = user;
        console.log(id);
        console.log(profile); // id를 제외한 나머지 값들을 새 객체로 모은다.

        // 중첩 구조에서의 구조분해할당
        const posts = [
            {id:1, title : '첫 글', like: 10},
            {id:2, title : '둘째 글', like: 5},
        ]

        const [{title:firstTitle, likes}, secondPost] = posts;
        console.log(firstTitle);
        //console.log(likes);
        console.log(secondPost);
        // 첫번째 요소의 제목만 꺼내고, 나머지는 객체 전체로 받는 방법도 가능하다.

        // 객체안에 객체가 있을 때
        const person2 = {
            id : 1,
            name3 : '홍길동',
            address:{
                city : "seoul",
                zip : "12345",
            }
        }
        const {name3, address:{city,zip}} = person2;
        console.log(name3);
        console.log(city);
        console.log(zip);

        // 실무에서 많이 사용하는 패턴
        // 함수의 매개변수로 분해 할당
        function printUser({name,age}){
            console.log(`이름 : ${name}, 나이 : ${age}`);
        }
        printUser({name:'Tom', age:30, country:'KR'});

        function createUser({
            name="이름없음",
            age=0,
            admin=false,
        }={}){
            return {name,age,admin}
        };
        console.log(createUser({name:'Alice', age:20}));
        console.log(createUser()); //매개변수가 없을 경우 기본값이 들어감.

        // 여러개의 옵션이 있을 때, 분해할당 + 기본값의 조합을 할 수 있다.
    </script>
</body>
</html>